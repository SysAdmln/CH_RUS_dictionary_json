# bkrs2yomi

Конвертер словаря [大БКРС](https://bkrs.info/) в формат словарной оболочки [Yomichan](https://github.com/FooSoft/yomichan).

## Готовые словари

Словарь представлен в нескольких вариациях, можно выбрать наиболее подходящую под свои нужды:

**Simpl** - заголовок в упрощённых иероглифах (оригинальный из 大БКРС)

**Trad** - заголовок в традиционных иероглифах (сконвертирован через [opencc](https://github.com/BYVoid/OpenCC))

**Trad-Addon** - заголовок в традиционных, выполнен в виде дополнения к словарю **Simpl**, чтобы можно было установить их одновременно

**Extended** - расширенная версия, в которую включены статьи без пиньиня. Эта версия много весит и потому будет долго индексироваться при установке

## Конвертер

### Сборка и запуск

Собрать

```
go build -o bin/bkrs2yomi.exe ./cmd/bkrs2yomi/main.go
```

Запустить

```
bin/bkrs2yomi.exe 大БКРС_v88.dsl

bin/bkrs2yomi.exe -ru dabruks_220214.gz
```

*Обратите внимание, что для релизной версии 大БКРС надо сначала сменить кодировку на utf-8*

### Параметры запуска

`-daily` - скачать последнюю ежедневную версию с сайта и использовать её для конвертации. Если файл с таким именем уже существует, то будет использован он.

`-extended` - включить в словарь неотредактированные статьи (для которых не указан пиньинь). Для сравнения: отредактированных где-то 600к, неотредактированных 3.3кк

`-type int` - тип конвертации. 0 - без изменений (упрощённые иероглифы). 1 - традиционные иероглифы. 2 - традиционки в виде аддона (удалены пересекающиеся статьи с 0 типом, чтобы можно было использовать их совместно). Можно одновременно использовать словари типов 0 и 2, чтобы получить наиболее полную базу.

`-ru` - поддержка русско-китайских статей. Укажите этот ключ, если нужно сконвертировать русско-китайский словарь. Также работает с ключом `-daily`
